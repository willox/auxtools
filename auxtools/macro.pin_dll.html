<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `pin_dll!` macro is used to determine whether the dll handle auxtools takes on Windows is pinned. For reference, a dll with a pinned handle cannot be unloaded during execution of the host process - termination of the host is the only way to unload the dll and release the lock on the corresponding file."><title>pin_dll in auxtools - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-0000000007da4a04.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-0000000084b1ad12.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-0000000066e2bc86.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-0000000004ddb02d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-00000000ad926a49.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-00000000f27a569e.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-0000000091fda82d.css"><link rel="stylesheet" href="../static.files/rustdoc-0000000099be8934.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-0000000079279c1e.css"><link rel="stylesheet" disabled href="../static.files/dark-000000002e79d9f2.css"><link rel="stylesheet" disabled href="../static.files/ayu-000000003323f6be.css"><script src="../static.files/storage-000000001db72db6.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-000000000682f2dc.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-00000000e18db8d9.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-000000008fbf5349.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-00000000d9d8501d.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-00000000a292be17.svg"></head><body class="rustdoc macro"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../auxtools/index.html"><img class="rust-logo" src="../static.files/rust-logo-00000000a653c8a4.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../auxtools/index.html"><img class="rust-logo" src="../static.files/rust-logo-00000000a653c8a4.svg" alt="logo"></a><div class="sidebar-elems"><h2><a href="index.html">In auxtools</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-00000000304d111d.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Macro <a href="index.html">auxtools</a>::<wbr><a class="macro" href="#">pin_dll</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-000000002b47d462.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/auxtools_impl/lib.rs.html#163">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pin_dll!() { /* proc-macro */ }</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <code>pin_dll!</code> macro is used to determine whether the dll handle auxtools
takes on Windows is pinned. For reference, a dll with a pinned handle cannot
be unloaded during execution of the host process - termination of the host is
the only way to unload the dll and release the lock on the corresponding file.</p>
<p>This has very limited use cases - for instance, if a .dmb is hosted on a live
server whose Dream Daemon process is kept running between runs, keeping a pinned
handle to the dll will prevent the corresponding file from being updated by
automatic updaters such as tgs. You shouldn’t use this unless you very specifically
need it for your particular use case.</p>
<p>Libraries that unpin the dll using this macro should ensure that no spawned threads
are running when calling <code>auxtools_full_shutdown</code> from DM, or else Dream Daemon will crash.</p>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="auxtools" data-themes="" data-resource-suffix="" data-rustdoc-version="1.69.0 (84c898d65 2023-04-16)" data-search-js="search-000000004e2530bd.js" data-settings-js="settings-00000000951b6b67.js" data-settings-css="settings-000000009bfc1ad1.css" ></div></body></html>